<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.j2ee.mapper.QuestionMapper">
	<select id="findQuestionByUserID" parameterType="String" resultType="com.j2ee.po.Question">
		select * from question where userID=#{userID}
	</select>
	
	<insert id="addQuestion" parameterType="com.j2ee.po.Question">
		insert into question(userID,createTime,question,detail)
		values(#{userID},#{createTime},#{question},#{detail})
	</insert>
	
	<delete id="deleteQuestion" parameterType="int">
		delete from question where questionID = #{questionID}
	</delete>
	
	<update id="updateStarOrPageviews" parameterType="com.j2ee.po.Question">
		update question 
		<set>
			<if test="star!=null and star!=''">
				star=star+#{star},
			</if>
			<if test="pageviews!=null and pageviews!=''">
				pageviews=pageviews+1,
			</if>
		</set>
		where questionID=#{questionID}
	</update>
	
</mapper>